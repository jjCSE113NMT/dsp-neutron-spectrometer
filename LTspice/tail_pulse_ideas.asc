Version 4
SHEET 1 3176 1284
WIRE 528 32 368 32
WIRE 128 48 128 32
WIRE 848 64 768 64
WIRE 960 64 928 64
WIRE 1120 96 1008 96
WIRE 2112 96 2000 96
WIRE -96 128 -96 112
WIRE 368 128 368 32
WIRE 400 128 368 128
WIRE 528 144 528 32
WIRE 528 144 464 144
WIRE 592 144 528 144
WIRE 768 144 768 64
WIRE 768 144 672 144
WIRE 128 160 128 128
WIRE 208 160 128 160
WIRE 336 160 208 160
WIRE 400 160 336 160
WIRE 208 176 208 160
WIRE 1008 176 1008 96
WIRE 1024 176 1008 176
WIRE 2000 176 2000 96
WIRE 2016 176 2000 176
WIRE 336 192 336 160
WIRE 768 192 768 144
WIRE 832 192 768 192
WIRE 1120 192 1120 96
WIRE 1120 192 1088 192
WIRE 1152 192 1120 192
WIRE 1248 192 1216 192
WIRE 2112 192 2112 96
WIRE 2112 192 2080 192
WIRE 2144 192 2112 192
WIRE 2240 192 2208 192
WIRE 960 208 960 64
WIRE 960 208 896 208
WIRE 1024 208 960 208
WIRE 1824 208 1744 208
WIRE 1936 208 1888 208
WIRE 2016 208 1936 208
WIRE -96 224 -96 208
WIRE 832 224 768 224
WIRE 592 240 560 240
WIRE 768 240 768 224
WIRE 768 240 672 240
WIRE 160 256 48 256
WIRE 1936 256 1936 208
WIRE 768 272 768 240
WIRE 208 288 208 272
WIRE 336 288 336 256
WIRE -64 336 -144 336
WIRE 48 336 48 256
WIRE 48 336 0 336
WIRE 1744 336 1744 208
WIRE 1936 352 1936 336
WIRE 768 368 768 352
WIRE 48 384 48 336
WIRE 1744 432 1744 416
WIRE -144 464 -144 336
WIRE 48 480 48 464
WIRE -144 560 -144 544
WIRE 544 704 384 704
WIRE 144 720 144 704
WIRE 864 736 784 736
WIRE 976 736 944 736
WIRE 1136 768 1024 768
WIRE 384 800 384 704
WIRE 416 800 384 800
WIRE 544 816 544 704
WIRE 544 816 480 816
WIRE 608 816 544 816
WIRE 784 816 784 736
WIRE 784 816 688 816
WIRE 144 832 144 800
WIRE 224 832 144 832
WIRE 352 832 224 832
WIRE 416 832 352 832
WIRE 224 848 224 832
WIRE 1024 848 1024 768
WIRE 1040 848 1024 848
WIRE 352 864 352 832
WIRE 784 864 784 816
WIRE 848 864 784 864
WIRE 1136 864 1136 768
WIRE 1136 864 1104 864
WIRE 1168 864 1136 864
WIRE 1264 864 1232 864
WIRE 976 880 976 736
WIRE 976 880 912 880
WIRE 1040 880 976 880
WIRE 160 896 64 896
WIRE 848 896 784 896
WIRE 608 912 576 912
WIRE 784 912 784 896
WIRE 784 912 688 912
WIRE 784 944 784 912
WIRE 224 960 224 944
WIRE 352 960 352 928
WIRE -48 1008 -128 1008
WIRE 64 1008 64 896
WIRE 64 1008 16 1008
WIRE 784 1040 784 1024
WIRE 64 1056 64 1008
WIRE -128 1136 -128 1008
WIRE 64 1152 64 1136
WIRE -128 1232 -128 1216
FLAG -96 224 0
FLAG -96 112 Vcc
FLAG 208 288 0
FLAG 336 288 0
FLAG 128 32 Vcc
FLAG 432 112 Vcc
FLAG -144 560 0
FLAG 1056 160 Vcc
FLAG 1248 192 Vom
FLAG 48 480 0
FLAG 864 176 Vcc
FLAG 768 368 0
FLAG 560 240 Vcc
FLAG 432 176 0
FLAG 864 240 0
FLAG 1056 224 0
FLAG 224 960 0
FLAG 352 960 0
FLAG 144 704 Vcc
FLAG 448 784 Vcc
FLAG -128 1232 0
FLAG 1072 832 Vcc
FLAG 1264 864 Vob
FLAG 64 1152 0
FLAG 880 848 Vcc
FLAG 784 1040 0
FLAG 576 912 Vcc
FLAG 448 848 0
FLAG 880 912 0
FLAG 1072 896 0
FLAG 1744 432 0
FLAG 1936 352 0
FLAG 2048 160 Vcc
FLAG 2048 224 0
FLAG 2240 192 Vot
SYMBOL voltage -96 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res 112 32 R0
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL cap 320 192 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL OpAmps\\UniversalOpamp2 432 144 R0
SYMATTR InstName U2
SYMBOL cap 1216 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL voltage -144 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 3.3 1m 1f 1f 5m)
SYMBOL OpAmps\\UniversalOpamp2 1056 192 R0
SYMATTR InstName U3
SYMBOL cap 0 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL res 32 368 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL OpAmps\\UniversalOpamp2 864 208 R0
SYMATTR InstName U4
SYMBOL res 688 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 784 368 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 576 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 832 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL npn 160 848 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL nmos 160 176 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 128 704 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL cap 336 864 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL OpAmps\\UniversalOpamp2 448 816 R0
SYMATTR InstName U1
SYMBOL cap 1232 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 10n
SYMBOL voltage -128 1120 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.3 1m 1f 1f 5m)
SYMBOL OpAmps\\UniversalOpamp2 1072 864 R0
SYMATTR InstName U5
SYMBOL cap 16 992 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10n
SYMBOL res 48 1040 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL OpAmps\\UniversalOpamp2 880 880 R0
SYMATTR InstName U6
SYMBOL res 704 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res 800 1040 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 592 832 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 848 752 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL voltage 1744 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 1m 1f 1f 5m)
SYMBOL cap 1888 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10n
SYMBOL res 1920 240 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap 2208 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 10n
SYMBOL OpAmps\\UniversalOpamp2 2048 192 R0
SYMATTR InstName U7
TEXT 1470 616 Left 2 !.tran 10m
TEXT 2048 280 Left 2 ;This one is nice and simple, but it requires the op amp to survive repeated -Vcc-3V3 pulses
TEXT 224 544 Left 2 ;These two are identical, except for the switching device, need to decide based on practical results
